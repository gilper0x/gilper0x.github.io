<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>GM Event Listener</title>
  <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>
</head>
<body>
  <h2>ğŸ‘‹ Live GM Events</h2>
  <ul id="eventLog"></ul>

  <script>
    // Replace this with your RPC endpoint (use WebSocket for real-time!)
    const provider = new ethers.providers.WebSocketProvider("wss://evmrpc-testnet.0g.ai");

    // Replace with your contract address
    const contractAddress = "0x4466af48fd616621b1abc5dd38394dc584edfc92";

    // Minimum ABI for GM events
    const abi = [{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":true,"internalType":"address","name":"recipient","type":"address"}],"name":"GM","type":"event"},{"inputs":[],"name":"gm","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"}],"name":"gmTo","outputs":[],"stateMutability":"nonpayable","type":"function"}];

    const contract = new ethers.Contract(contractAddress, abi, provider);

    const logContainer = document.getElementById("eventLog");

    // Listen to GM events
    contract.on("GM", (user, recipient) => {
      const listItem = document.createElement("li");
      listItem.textContent = `ğŸ“£ GM from ${user} to ${recipient}`;
      logContainer.prepend(listItem);
    });
  </script>
</body>
</html>
